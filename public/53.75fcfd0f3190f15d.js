"use strict";(self.webpackChunkproject_diac=self.webpackChunkproject_diac||[]).push([[53],{53:(G,A,u)=>{u.r(A),u.d(A,{DestrezaModule:()=>$});var d=u(6019),o=u(9133),Z=u(1382),g=u(7923),z=u(1659),l=u.n(z),e=u(3668),h=u(6700),_=u(3664);function T(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",25),e._uU(1),e.ALo(2,"titlecase"),e.TgZ(3,"span",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteObjective(s.nameObjective)}),e._uU(4,"x"),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.nameObjective)," ")}}function C(a,n){1&a&&(e.TgZ(0,"div",27),e._uU(1," Aun no se han a\xf1adido objetivos "),e.qZA())}function j(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",25),e._uU(1),e.ALo(2,"titlecase"),e.TgZ(3,"span",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteDestreza(s.nameDestreza)}),e._uU(4,"x"),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.nameDestreza)," ")}}function x(a,n){1&a&&(e.TgZ(0,"div",27),e._uU(1," Aun no se han a\xf1adido destrezas "),e.qZA())}function D(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-alert",28),e.NdJ("hiddenAlertEvent",function(i){return e.CHM(t),e.oxw().showAlert(i)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("message",t.messageError)("typeAlert",t.typeAlert)}}const y=function(){return["/dashboard/asignatura"]};let w=(()=>{class a{constructor(t,r,i){this.activateRoute=t,this.destrezaService=r,this.router=i,this.messageError="",this.typeAlert="",this.alertActive=!1,this.objectives=[],this.destrezas=[],this.nombreAsignatura="",this.valorActual="",this.seleccionado="objetivo"}ngOnInit(){this.activateRoute.params.subscribe(t=>{this.nombreAsignatura=t.name,this.idAsignatura=t.idCourse})}showAlert(t){this.alertActive=t}cambioObjetivo(t){this.seleccionado=t.target.id}addObjective(){let t=!1;if(!this.valorActual||0===this.valorActual.trim().length)return this.messageError="La Objetivo no puede quedar vacio",this.typeAlert="danger",void this.showAlert(!0);if(this.objectives.forEach(r=>{r.nameObjective===this.valorActual.trim().toLowerCase()&&(t=!0,this.messageError="El objetivo ya existe!!",this.typeAlert="danger",this.showAlert(!0))}),!t){let r=[...this.objectives];this.objectives=[...r,{nameObjective:this.valorActual.trim().toLowerCase()}],this.valorActual="",this.messageError="Objetivo agregado!",this.typeAlert="success",this.showAlert(!0)}}addDestreza(){let t=!1;if(!this.valorActual||0===this.valorActual.trim().length)return this.messageError="La destreza no puede quedar vacia",this.typeAlert="danger",void this.showAlert(!0);if(this.destrezas.forEach(r=>{r.nameDestreza===this.valorActual.trim().toLowerCase()&&(t=!0,this.messageError="La destreza ya existe!!",this.typeAlert="danger",this.showAlert(!0))}),!t){let r=[...this.destrezas];this.destrezas=[...r,{nameDestreza:this.valorActual.trim().toLowerCase()}],this.valorActual="",this.messageError="Destreza agregada!",this.typeAlert="success",this.showAlert(!0)}}deleteObjective(t){this.messageError="Objetivo eliminado!",this.typeAlert="success",this.showAlert(!0),this.objectives=this.objectives.filter(r=>r.nameObjective!==t.toLowerCase())}deleteDestreza(t){this.messageError="Destreza eliminada!!",this.typeAlert="success",this.showAlert(!0),this.destrezas=this.destrezas.filter(r=>r.nameDestreza!==t.toLowerCase())}addAsignatura(){if(0===this.destrezas.length&&0===this.objectives.length)return this.messageError=`Tiene que a\xf1adir alguna destreza u objetivo a la asignatura ${this.nombreAsignatura}`,this.typeAlert="danger",void this.showAlert(!0);l().fire({title:"\xbfGuardar destrezas y objetivos?",text:`Se guardar\xe1n las destrezas y objetivos agregados a la asignatura ${this.nombreAsignatura}`,icon:"info",showDenyButton:!0,confirmButtonText:"Guardar",denyButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(this.destrezas.length>0&&this.destrezaService.addDestreza(this.idAsignatura,this.destrezas).subscribe({next:r=>{},error:({})=>{l().fire("Hubo un error al guardar las destrezas","","error")},complete:()=>{l().fire(`Destrezas agregadas a la asignatura ${this.nombreAsignatura}`,"","success"),this.router.navigateByUrl("/dashboard/asignatura")}}),this.objectives.length>0&&this.destrezaService.addObjective(this.idAsignatura,this.objectives).subscribe({next:r=>{},error:({})=>{l().fire("Hubo un error al guardar los objetivos","","error")},complete:()=>{l().fire(`Objetivos agregados a la asignatura ${this.nombreAsignatura}`,"","success"),this.router.navigateByUrl("/dashboard/asignatura")}}))})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(g.gz),e.Y36(h.c),e.Y36(g.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-agregar-asignatura"]],decls:45,vars:13,consts:[[1,"container"],[1,"row","justify-content-center","mt-4"],[1,"col-12","text-center"],[1,"col-11"],[1,"rounded","bg-light","p-4"],[1,"mb-3","col-4"],["for","asignatura",1,"form-label"],["type","text","id","asignatura","name","asignatura","placeholder","Matem\xe1ticas","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3","col-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],["id","objetivo",1,"dropdown-item",3,"click"],["id","destreza",1,"dropdown-item",3,"click"],["name","value","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button","id","inputGroupFileAddon04",1,"btn","btn-outline-primary",3,"click"],[1,"mb-3","mt-4"],[1,""],[1,"list-group"],["type","button","class","list-group-item list-group-item-action d-flex justify-content-between align-items-start",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],[1,"mb-3"],[1,"col-10","text-end","mt-2","py-2"],["type","button",1,"btn","btn-danger",3,"routerLink"],["type","submit",1,"btn","btn-primary","ms-3",3,"click"],[3,"message","typeAlert","hiddenAlertEvent",4,"ngIf"],["type","button",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-start"],[1,"badge","bg-danger","rounded-pill",3,"click"],[1,"alert","alert-info"],[3,"message","typeAlert","hiddenAlertEvent"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"label",6),e._uU(9,"Asignatura:"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(s){return r.nombreAsignatura=s}),e.qZA(),e.qZA(),e.TgZ(11,"label",6),e._uU(12,"A\xf1ada objetivos y/o destrezas:"),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"button",9),e._uU(15),e.ALo(16,"titlecase"),e.qZA(),e.TgZ(17,"ul",10),e.TgZ(18,"li"),e.TgZ(19,"a",11),e.NdJ("click",function(s){return r.cambioObjetivo(s)}),e._uU(20,"Objetivo"),e.qZA(),e.qZA(),e.TgZ(21,"li"),e.TgZ(22,"a",12),e.NdJ("click",function(s){return r.cambioObjetivo(s)}),e._uU(23,"Destreza"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"input",13),e.NdJ("ngModelChange",function(s){return r.valorActual=s}),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){return"destreza"===r.seleccionado?r.addDestreza():r.addObjective()}),e._uU(26,"+ Agregar"),e.qZA(),e.qZA(),e.TgZ(27,"div",15),e.TgZ(28,"h4",16),e._uU(29,"Objetivos Educativos Individuales:"),e.qZA(),e.TgZ(30,"div",17),e.YNc(31,T,5,3,"button",18),e.qZA(),e.YNc(32,C,2,0,"div",19),e.qZA(),e.TgZ(33,"div",20),e.TgZ(34,"h4",16),e._uU(35,"Destrezas con criterios de desempe\xf1o:"),e.qZA(),e.TgZ(36,"div",17),e.YNc(37,j,5,3,"button",18),e.qZA(),e.YNc(38,x,2,0,"div",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",21),e.TgZ(40,"button",22),e._uU(41," Atras "),e.qZA(),e.TgZ(42,"button",23),e.NdJ("click",function(){return r.addAsignatura()}),e._uU(43,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(44,D,1,2,"app-alert",24)),2&t&&(e.xp6(4),e.hij(" Registro de objetivos y destrezas a ",r.nombreAsignatura," "),e.xp6(6),e.Q6J("ngModel",r.nombreAsignatura),e.xp6(5),e.Oqu(e.lcZ(16,10,r.seleccionado)),e.xp6(9),e.Q6J("ngModel",r.valorActual),e.xp6(7),e.Q6J("ngForOf",r.objectives),e.xp6(1),e.Q6J("ngIf",0===r.objectives.length),e.xp6(5),e.Q6J("ngForOf",r.destrezas),e.xp6(1),e.Q6J("ngIf",0===r.destrezas.length),e.xp6(2),e.Q6J("routerLink",e.DdM(12,y)),e.xp6(4),e.Q6J("ngIf",r.alertActive))},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,d.sg,d.O5,g.rH,_.w],pipes:[d.rS],styles:[".dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]}),a})();function O(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",25),e._uU(1),e.ALo(2,"titlecase"),e.TgZ(3,"span",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteObjective(s.nameObjective)}),e._uU(4,"x"),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.nameObjective)," ")}}function q(a,n){1&a&&(e.TgZ(0,"div",27),e._uU(1," Aun no se han a\xf1adido objetivos "),e.qZA())}function J(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",25),e._uU(1),e.ALo(2,"titlecase"),e.TgZ(3,"span",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteDestreza(s.nameDestreza)}),e._uU(4,"x"),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.nameDestreza)," ")}}function E(a,n){1&a&&(e.TgZ(0,"div",27),e._uU(1," Aun no se han a\xf1adido destrezas "),e.qZA())}function M(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-alert",28),e.NdJ("hiddenAlertEvent",function(i){return e.CHM(t),e.oxw().showAlert(i)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("message",t.messageError)("typeAlert",t.typeAlert)}}const U=function(){return["/dashboard/asignatura"]};let k=(()=>{class a{constructor(t,r){this.destrezaService=t,this.router=r,this.messageError="",this.typeAlert="",this.alertActive=!1,this.objectives=[],this.destrezas=[],this.nombreAsignatura="",this.valorActual="",this.seleccionado="objetivo"}ngOnInit(){}showAlert(t){this.alertActive=t}cambioObjetivo(t){this.seleccionado=t.target.id}addObjective(){let t=!1;if(!this.valorActual||0===this.valorActual.trim().length)return this.messageError="La Objetivo no puede quedar vacio",this.typeAlert="danger",void this.showAlert(!0);if(this.objectives.forEach(r=>{r.nameObjective===this.valorActual.trim().toLowerCase()&&(t=!0,this.messageError="El objetivo ya existe!!",this.typeAlert="danger",this.showAlert(!0))}),!t){let r=[...this.objectives];this.objectives=[...r,{nameObjective:this.valorActual.trim().toLowerCase()}],this.valorActual="",this.messageError="Objetivo agregado!",this.typeAlert="success",this.showAlert(!0)}}addDestreza(){let t=!1;if(!this.valorActual||0===this.valorActual.trim().length)return this.messageError="La destreza no puede quedar vacia",this.typeAlert="danger",void this.showAlert(!0);if(this.destrezas.forEach(r=>{r.nameDestreza===this.valorActual.trim().toLowerCase()&&(t=!0,this.messageError="La destreza ya existe!!",this.typeAlert="danger",this.showAlert(!0))}),!t){let r=[...this.destrezas];this.destrezas=[...r,{nameDestreza:this.valorActual.trim().toLowerCase()}],this.valorActual="",this.messageError="Destreza agregada!",this.typeAlert="success",this.showAlert(!0)}}deleteObjective(t){this.messageError="Objetivo eliminado!",this.typeAlert="success",this.showAlert(!0),this.objectives=this.objectives.filter(r=>r.nameObjective!==t.toLowerCase())}deleteDestreza(t){this.messageError="Destreza eliminada!!",this.typeAlert="success",this.showAlert(!0),this.destrezas=this.destrezas.filter(r=>r.nameDestreza!==t.toLowerCase())}addAsignatura(){if(0===this.nombreAsignatura.trim().toLowerCase().length)return this.messageError="El nombre de la asignatura no puede quedar vacio",this.typeAlert="danger",void this.showAlert(!0);this.asignatura={nameCourse:this.nombreAsignatura.toLowerCase(),destrezas:this.destrezas,objectives:this.objectives},l().fire({title:"\xbfGuardar Asignatura?",text:`Se guardar\xe1 la asignatura ${this.nombreAsignatura} con los objetivos y destrezas agregadas`,icon:"info",showDenyButton:!0,confirmButtonText:"Guardar",denyButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.destrezaService.addAsignatura(this.asignatura).subscribe({next:r=>{},error:({})=>{l().fire("Hubo un error al guardar las destrezas","","error")},complete:()=>{l().fire(`Se agreg\xf3 la asignatura ${this.nombreAsignatura}`,"","success"),this.router.navigateByUrl("/dashboard/asignatura")}})})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.c),e.Y36(g.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-destreza"]],decls:45,vars:12,consts:[[1,"container"],[1,"row","justify-content-center","mt-4"],[1,"col-12","text-center"],[1,"col-11"],[1,"rounded","bg-light","p-4"],[1,"mb-3","col-4"],["for","asignatura",1,"form-label"],["type","text","id","asignatura","name","asignatura","placeholder","Matem\xe1ticas",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3","col-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],["id","objetivo",1,"dropdown-item",3,"click"],["id","destreza",1,"dropdown-item",3,"click"],["name","value","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button","id","inputGroupFileAddon04",1,"btn","btn-outline-primary",3,"click"],[1,"mb-3","mt-4"],[1,""],[1,"list-group"],["type","button","class","list-group-item list-group-item-action d-flex justify-content-between align-items-start",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],[1,"mb-3"],[1,"col-10","text-end","mt-2","py-2"],["type","button",1,"btn","btn-danger",3,"routerLink"],["type","submit",1,"btn","btn-primary","ms-3",3,"click"],[3,"message","typeAlert","hiddenAlertEvent",4,"ngIf"],["type","button",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-start"],[1,"badge","bg-danger","rounded-pill",3,"click"],[1,"alert","alert-info"],[3,"message","typeAlert","hiddenAlertEvent"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1"),e._uU(4," Registro de asignatura, objetivos y destrezas "),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"label",6),e._uU(9,"Asignatura:"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(s){return r.nombreAsignatura=s}),e.qZA(),e.qZA(),e.TgZ(11,"label",6),e._uU(12,"A\xf1ada objetivos y/o destrezas:"),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"button",9),e._uU(15),e.ALo(16,"titlecase"),e.qZA(),e.TgZ(17,"ul",10),e.TgZ(18,"li"),e.TgZ(19,"a",11),e.NdJ("click",function(s){return r.cambioObjetivo(s)}),e._uU(20,"Objetivo"),e.qZA(),e.qZA(),e.TgZ(21,"li"),e.TgZ(22,"a",12),e.NdJ("click",function(s){return r.cambioObjetivo(s)}),e._uU(23,"Destreza"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"input",13),e.NdJ("ngModelChange",function(s){return r.valorActual=s}),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){return"destreza"===r.seleccionado?r.addDestreza():r.addObjective()}),e._uU(26,"+ Agregar"),e.qZA(),e.qZA(),e.TgZ(27,"div",15),e.TgZ(28,"h4",16),e._uU(29,"Objetivos Educativos Individuales:"),e.qZA(),e.TgZ(30,"div",17),e.YNc(31,O,5,3,"button",18),e.qZA(),e.YNc(32,q,2,0,"div",19),e.qZA(),e.TgZ(33,"div",20),e.TgZ(34,"h4",16),e._uU(35,"Destrezas con criterios de desempe\xf1o:"),e.qZA(),e.TgZ(36,"div",17),e.YNc(37,J,5,3,"button",18),e.qZA(),e.YNc(38,E,2,0,"div",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",21),e.TgZ(40,"button",22),e._uU(41," Atras "),e.qZA(),e.TgZ(42,"button",23),e.NdJ("click",function(){return r.addAsignatura()}),e._uU(43,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(44,M,1,2,"app-alert",24)),2&t&&(e.xp6(10),e.Q6J("ngModel",r.nombreAsignatura),e.xp6(5),e.Oqu(e.lcZ(16,9,r.seleccionado)),e.xp6(9),e.Q6J("ngModel",r.valorActual),e.xp6(7),e.Q6J("ngForOf",r.objectives),e.xp6(1),e.Q6J("ngIf",0===r.objectives.length),e.xp6(5),e.Q6J("ngForOf",r.destrezas),e.xp6(1),e.Q6J("ngIf",0===r.destrezas.length),e.xp6(2),e.Q6J("routerLink",e.DdM(11,U)),e.xp6(4),e.Q6J("ngIf",r.alertActive))},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,d.sg,d.O5,g.rH,_.w],pipes:[d.rS],styles:[".dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]}),a})();function v(a,n,t,r,i,s,c){try{var m=a[s](c),p=m.value}catch(P){return void t(P)}m.done?n(p):Promise.resolve(p).then(r,i)}function b(a){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=a.apply(n,t);function c(p){v(s,r,i,c,m,"next",p)}function m(p){v(s,r,i,c,m,"throw",p)}c(void 0)})}}function F(a,n){if(1&a&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.Q6J("value",t.nameCourse),e.xp6(1),e.hij(" ",t.nameCourse," ")}}function S(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"li",25),e._uU(1),e.TgZ(2,"div"),e.TgZ(3,"i",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).getObjective(s)}),e.qZA(),e.TgZ(4,"i",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteObjetivo(s.id)}),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit;e.Q6J("id",t.id),e.xp6(1),e.hij(" ",t.nameObjective," ")}}function N(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"li",25),e._uU(1),e.TgZ(2,"div"),e.TgZ(3,"i",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).getDestreza(s)}),e.qZA(),e.TgZ(4,"i",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteDestreza(s.id)}),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit;e.Q6J("id",t.id),e.xp6(1),e.hij(" ",t.nameDestreza," ")}}const f=function(a){return{"animate-arrow":a}};function L(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",16),e.TgZ(2,"p"),e.TgZ(3,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().rotateArrowObj()}),e._uU(4," Objetivos "),e._UZ(5,"i",18),e.qZA(),e.qZA(),e.TgZ(6,"div",19),e.TgZ(7,"ul",20),e.YNc(8,S,5,2,"li",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",22),e.TgZ(10,"p"),e.TgZ(11,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().rotateArrowDes()}),e._uU(12," Destrezas "),e._UZ(13,"i",18),e.qZA(),e.qZA(),e.TgZ(14,"div",24),e.TgZ(15,"ul",20),e.YNc(16,N,5,2,"li",21),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(4,f,t.activateAnimationArrowObj)),e.xp6(3),e.Q6J("ngForOf",null==t.asignaturaSeleccionada?null:t.asignaturaSeleccionada.Objectives),e.xp6(5),e.Q6J("ngClass",e.VKq(6,f,t.activateAnimationArrowDes)),e.xp6(3),e.Q6J("ngForOf",null==t.asignaturaSeleccionada?null:t.asignaturaSeleccionada.Destrezas)}}function Q(a,n){1&a&&(e.TgZ(0,"div",28),e._uU(1," Seleccione una asignatura para ver sus destrezas y objetivos "),e.qZA())}const I=function(a,n){return["/dashboard/asignatura",a,n]};function Y(a,n){if(1&a&&(e.TgZ(0,"li",29),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.Q6J("routerLink",e.WLB(2,I,t.asignaturaSeleccionada.nameCourse,t.asignaturaSeleccionada.id)),e.xp6(1),e.hij(" Agregar Objetivos y/o destrezas en ",t.asignaturaSeleccionada.nameCourse," ")}}function V(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-alert",30),e.NdJ("hiddenAlertEvent",function(i){return e.CHM(t),e.oxw().showAlert(i)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("message",t.messageError)("typeAlert",t.typeAlert)}}const B=[{path:"",component:(()=>{class a{constructor(t,r){this.destrezaService=t,this.fb=r,this.activateAnimationArrowObj=!1,this.activateAnimationArrowDes=!1,this.messageError="",this.typeAlert="",this.alertActive=!1,this.asignaturas={courses:[]},this.valueInputUpdate="",this.isDestreza=!1,this.asiganturaSelectForm=this.fb.group({asignatura:["0"]})}ngOnInit(){this.destrezaService.allAsignaturas().subscribe({next:({courses:t})=>{this.asignaturas.courses=t},error:t=>{l().fire("Hubo un error al cargar las asignaturas","","error")}})}showAlert(t){this.alertActive=t}rotateArrowObj(){this.activateAnimationArrowObj=!this.activateAnimationArrowObj}rotateArrowDes(){this.activateAnimationArrowDes=!this.activateAnimationArrowDes}llenarObjetivosDestrezas(){if("0"!==this.asiganturaSelectForm.value.asignatura){const r=this.asignaturas.courses.filter(i=>i.nameCourse===this.asiganturaSelectForm.value.asignatura);this.asignaturaSeleccionada=r[0]}else this.asignaturaSeleccionada=void 0}validarAsignatura(){this.llenarObjetivosDestrezas()}getDestreza(t){var r=this;return b(function*(){r.isDestreza=!0,r.valueUpdate=t;const{value:i,isConfirmed:s}=yield l().fire({title:"Actualizar Destreza",input:"text",inputLabel:"Destreza",inputValue:t.nameDestreza,confirmButtonText:"Guardar Cambios",showCancelButton:!0});s&&(""!==i?(r.valueInputUpdate=i,r.updateDestrezaObjetivo()):l().fire("La destreza no puede quedar vacio","","error"))})()}getObjective(t){var r=this;return b(function*(){r.isDestreza=!1,r.valueUpdate=t;const{value:i,isConfirmed:s}=yield l().fire({title:"Actualizar Objetivo",input:"text",inputLabel:"Objetivo",inputValue:t.nameObjective,confirmButtonText:"Guardar Cambios",showCancelButton:!0});s&&(""!==i?(r.valueInputUpdate=i,r.updateDestrezaObjetivo()):l().fire("El objetivo no puede quedar vacio","","error"))})()}deleteDestreza(t){this.isDestreza=!0,this.valueDelete=t,l().fire({title:"\xbfEsta seguro que desea eliminar esta destreza?",icon:"info",showDenyButton:!0,confirmButtonText:"Eliminar",denyButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&this.deleteDestrezaObjetivo()})}deleteObjetivo(t){this.isDestreza=!1,this.valueDelete=t,l().fire({title:"\xbfEsta seguro que desea eliminar este objetivo?",icon:"info",showDenyButton:!0,confirmButtonText:"Eliminar",denyButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&this.deleteDestrezaObjetivo()})}updateDestrezaObjetivo(){this.isDestreza?this.destrezaService.updateDestreza(this.valueUpdate.id,{nameDestreza:this.valueInputUpdate}).subscribe({next:t=>{const r=this.asignaturaSeleccionada.Destrezas.map(i=>(i.id===t.id&&(i.nameDestreza=t.nameDestreza),i));this.asignaturaSeleccionada.Destrezas=r,l().fire("Destreza actualizada","","success")},error:t=>{l().fire("Hubo un error al actualizar la destreza","","error")}}):this.destrezaService.updateObjective(this.valueUpdate.id,{nameObjective:this.valueInputUpdate}).subscribe({next:t=>{const r=this.asignaturaSeleccionada.Objectives.map(i=>(i.id===t.id&&(i.nameObjective=t.nameObjective),i));this.asignaturaSeleccionada.Objectives=r,l().fire("Objetivo actualizado","","success")},error:t=>{l().fire("Hubo un error al actualizar el objetivo","","error")}})}deleteDestrezaObjetivo(){this.isDestreza?this.destrezaService.deleteDestreza(this.valueDelete).subscribe({next:t=>{const r=this.asignaturaSeleccionada.Destrezas.filter(i=>i.id!==t.id);this.asignaturaSeleccionada.Destrezas=r,l().fire("Destreza eliminada","","success")},error:()=>{l().fire("Hubo un error al eliminar la destreza","","error")}}):this.destrezaService.deleteObjective(this.valueDelete).subscribe({next:t=>{const r=this.asignaturaSeleccionada.Objectives.filter(i=>i.id!==t.id);this.asignaturaSeleccionada.Objectives=r,l().fire("Objetivo eliminado","","success")},error:()=>{l().fire("Hubo un error al eliminar el objetivo","","error")}})}showMenu(){const t=document.querySelector(".list-group-plus");null==t||t.classList.toggle("show")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.c),e.Y36(o.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-ver-asignaturas"]],decls:18,vars:6,consts:[[1,"container"],[1,"row","justify-content-center","mt-4"],[1,"col-sm-8","col-md-6","col-lg-4"],[3,"formGroup"],["formControlName","asignatura","name","asigantura",1,"form-select",3,"change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["class","row justify-content-center mt-4",4,"ngIf","ngIfElse"],["alertSinSeleccionar",""],[1,"iconplus","d-flex","flex-column","justify-content-end","align-items-end"],[1,"list-group","list-group-plus"],["routerLink","/dashboard/asignatura/agregar",1,"list-group-item","list-group-item-action"],["class","list-group-item",3,"routerLink",4,"ngIf"],[1,"bi","bi-plus-circle-fill","mt-2",3,"click"],[3,"message","typeAlert","hiddenAlertEvent",4,"ngIf"],[3,"value"],[1,"section-objectives","col-10"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseObjectives","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-caret-down-fill",3,"ngClass"],["id","collapseObjectives",1,"collapse","show"],[1,"list-group","list-group-flush"],["class","list-group-item d-flex justify-content-between",3,"id",4,"ngFor","ngForOf"],[1,"section-destreza","col-10","mt-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseDestrezas","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-outline-primary",3,"click"],["id","collapseDestrezas",1,"collapse"],[1,"list-group-item","d-flex","justify-content-between",3,"id"],[1,"bi","bi-box-arrow-in-up-right","me-2",3,"click"],[1,"bi","bi-x-square",3,"click"],[1,"alert","alert-info","px-5","mx-5","text-center","mt-3"],[1,"list-group-item",3,"routerLink"],[3,"message","typeAlert","hiddenAlertEvent"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e.TgZ(4,"select",4),e.NdJ("change",function(){return r.validarAsignatura()}),e.TgZ(5,"option",5),e._uU(6,"Seleccionar asignatura"),e.qZA(),e.YNc(7,F,2,2,"option",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,L,17,8,"div",7),e.qZA(),e.YNc(9,Q,2,0,"ng-template",null,8,e.W1O),e.TgZ(11,"div",9),e.TgZ(12,"ul",10),e.TgZ(13,"li",11),e._uU(14," Agregar nueva asignatura "),e.qZA(),e.YNc(15,Y,2,5,"li",12),e.qZA(),e.TgZ(16,"i",13),e.NdJ("click",function(){return r.showMenu()}),e.qZA(),e.qZA(),e.YNc(17,V,1,2,"app-alert",14)),2&t){const i=e.MAs(10);e.xp6(3),e.Q6J("formGroup",r.asiganturaSelectForm),e.xp6(4),e.Q6J("ngForOf",r.asignaturas.courses),e.xp6(1),e.Q6J("ngIf",r.asignaturaSeleccionada)("ngIfElse",i),e.xp6(7),e.Q6J("ngIf",r.asignaturaSeleccionada),e.xp6(2),e.Q6J("ngIf",r.alertActive)}},directives:[o._Y,o.JL,o.sg,o.EJ,o.JJ,o.u,o.YN,o.Kr,d.sg,d.O5,g.rH,d.mk,_.w],styles:[".bi-caret-down-fill[_ngcontent-%COMP%]:before{transition:transform .2s ease-in}.animate-arrow.bi-caret-down-fill[_ngcontent-%COMP%]:before{transform:rotate(180deg)}.bi-box-arrow-in-up-right[_ngcontent-%COMP%], .bi-x-square[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer;color:#08f}.bi-plus-circle-fill[_ngcontent-%COMP%]{font-size:3rem;color:#08f}.bi-plus-circle-fill[_ngcontent-%COMP%]:before{transition:transform .2s ease-in}.bi-plus-circle-fill[_ngcontent-%COMP%]:hover:before{transform:scale(1.1)}.iconplus[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}.section-destreza[_ngcontent-%COMP%]{z-index:1000}.section-objectives[_ngcontent-%COMP%]{z-index:1000}.list-group-plus[_ngcontent-%COMP%]{transition:all .2s ease;opacity:0;visibility:hidden;z-index:999}.list-group-plus.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;z-index:1001}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}"]}),a})()},{path:"agregar",component:k},{path:":name/:idCourse",component:w}];let H=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[g.Bz.forChild(B)],g.Bz]}),a})(),$=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[d.ez,o.u5,o.UX,Z.m,H]]}),a})()}}]);